# ğŸ¥ åŒ»å­¦å›¾åƒAIè¯Šæ–­ç³»ç»Ÿ - å®Œæ•´ä½¿ç”¨æŒ‡å—

---

## ğŸ“ æ–‡ä»¶ç»“æ„ï¼ˆè¯·æŒ‰æ­¤ç»“æ„åˆ›å»ºæ–‡ä»¶å¤¹ï¼‰

```
C:\MedicalAI\
â”‚
â”œâ”€â”€ ğŸ“‚ datasets\                        â† æ•°æ®é›†ç›®å½•ï¼ˆéœ€è¦ä¸‹è½½ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ chest_xray\                  â† è‚ºç‚æ•°æ®é›†
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ train\
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ NORMAL\              (1341å¼ æ­£å¸¸å›¾ç‰‡)
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‚ PNEUMONIA\           (3875å¼ è‚ºç‚å›¾ç‰‡)
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ test\
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ NORMAL\
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“‚ PNEUMONIA\
â”‚   â”‚   â””â”€â”€ ğŸ“‚ val\
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ breast_ultrasound\           â† ä¹³è…ºç™Œæ•°æ®é›†
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ benign\                  (è‰¯æ€§å›¾ç‰‡)
â”‚   â”‚   â””â”€â”€ ğŸ“‚ malignant\               (æ¶æ€§å›¾ç‰‡)
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ brain_tumor\                 â† è„‘è‚¿ç˜¤æ•°æ®é›†
â”‚   â”‚   â”œâ”€â”€ ğŸ“‚ yes\                     (æœ‰è‚¿ç˜¤)
â”‚   â”‚   â””â”€â”€ ğŸ“‚ no\                      (æ— è‚¿ç˜¤)
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‚ malaria\                     â† ç–Ÿç–¾æ•°æ®é›†
â”‚       â”œâ”€â”€ ğŸ“‚ Parasitized\             (æ„ŸæŸ“)
â”‚       â””â”€â”€ ğŸ“‚ Uninfected\              (æœªæ„ŸæŸ“)
â”‚
â”œâ”€â”€ ğŸ“‚ models\                          â† æ¨¡å‹ç›®å½•ï¼ˆæ”¾è®­ç»ƒè„šæœ¬ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ train_pneumonia.py           â† è‚ºç‚è®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ train_breast.py              â† ä¹³è…ºç™Œè®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ train_brain.py               â† è„‘è‚¿ç˜¤è®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ train_malaria.py             â† ç–Ÿç–¾è®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ train_all.py                 â† ä¸€é”®è®­ç»ƒæ‰€æœ‰
â”‚   â”œâ”€â”€ ğŸ“„ convert_all.py               â† æ‰¹é‡è½¬æ¢TFLite
â”‚   â”‚
â”‚   â”‚   â†“â†“â†“ è®­ç»ƒåè‡ªåŠ¨ç”Ÿæˆ â†“â†“â†“
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“„ pneumonia_model.h5           (è®­ç»ƒåç”Ÿæˆ)
â”‚   â”œâ”€â”€ ğŸ“„ pneumonia_model.tflite       (è½¬æ¢åç”Ÿæˆ)
â”‚   â”œâ”€â”€ ğŸ“„ pneumonia_training.png       (è®­ç»ƒæ›²çº¿å›¾)
â”‚   â”œâ”€â”€ ğŸ“„ breast_model.h5
â”‚   â”œâ”€â”€ ğŸ“„ breast_model.tflite
â”‚   â”œâ”€â”€ ğŸ“„ brain_model.h5
â”‚   â”œâ”€â”€ ğŸ“„ brain_model.tflite
â”‚   â”œâ”€â”€ ğŸ“„ malaria_model.h5
â”‚   â””â”€â”€ ğŸ“„ malaria_model.tflite
â”‚
â”œâ”€â”€ ğŸ“‚ labels\                          â† æ ‡ç­¾ç›®å½•ï¼ˆè®­ç»ƒåè‡ªåŠ¨ç”Ÿæˆï¼‰
â”‚   â”œâ”€â”€ ğŸ“„ pneumonia_labels.txt
â”‚   â”œâ”€â”€ ğŸ“„ breast_labels.txt
â”‚   â”œâ”€â”€ ğŸ“„ brain_labels.txt
â”‚   â””â”€â”€ ğŸ“„ malaria_labels.txt
â”‚
â””â”€â”€ ğŸ“‚ android\                         â† Androidä»£ç 
    â”œâ”€â”€ ğŸ“„ MainActivity.java
    â””â”€â”€ ğŸ“„ activity_main.xml
```

---

## ğŸš€ å®Œæ•´ä½¿ç”¨æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºæ–‡ä»¶å¤¹ç»“æ„

æ‰“å¼€æ–‡ä»¶èµ„æºç®¡ç†å™¨ï¼Œæ‰‹åŠ¨åˆ›å»ºä»¥ä¸‹æ–‡ä»¶å¤¹ï¼š

```
1. åˆ›å»º C:\MedicalAI\
2. åœ¨é‡Œé¢åˆ›å»º datasets\
3. åœ¨é‡Œé¢åˆ›å»º models\
4. åœ¨é‡Œé¢åˆ›å»º labels\
5. åœ¨é‡Œé¢åˆ›å»º android\
```

æˆ–è€…ç”¨å‘½ä»¤è¡Œä¸€é”®åˆ›å»ºï¼š
```cmd
mkdir C:\MedicalAI\datasets\chest_xray
mkdir C:\MedicalAI\datasets\breast_ultrasound
mkdir C:\MedicalAI\datasets\brain_tumor
mkdir C:\MedicalAI\datasets\malaria
mkdir C:\MedicalAI\models
mkdir C:\MedicalAI\labels
mkdir C:\MedicalAI\android
```

---

### ç¬¬äºŒæ­¥ï¼šä¸‹è½½æ•°æ®é›†

| æ•°æ®é›† | Kaggleä¸‹è½½é“¾æ¥ | è§£å‹åˆ° |
|-------|---------------|-------|
| ğŸ« è‚ºç‚ | https://www.kaggle.com/datasets/paultimothymooney/chest-xray-pneumonia | `datasets\chest_xray\` |
| ğŸ€ ä¹³è…ºç™Œ | https://www.kaggle.com/datasets/aryashah2k/breast-ultrasound-images-dataset | `datasets\breast_ultrasound\` |
| ğŸ§  è„‘è‚¿ç˜¤ | https://www.kaggle.com/datasets/navoneel/brain-mri-images-for-brain-tumor-detection | `datasets\brain_tumor\` |
| ğŸ¦Ÿ ç–Ÿç–¾ | https://www.kaggle.com/datasets/iarunava/cell-images-for-detecting-malaria | `datasets\malaria\` |

**æ³¨æ„**ï¼šè§£å‹åæ£€æŸ¥æ–‡ä»¶å¤¹ç»“æ„æ˜¯å¦æ­£ç¡®ï¼

---

### ç¬¬ä¸‰æ­¥ï¼šæ”¾ç½®Pythonè„šæœ¬

æŠŠä¸‹è½½çš„6ä¸ª `.py` æ–‡ä»¶æ”¾åˆ° `C:\MedicalAI\models\` ç›®å½•ï¼š

```
C:\MedicalAI\models\
â”œâ”€â”€ train_pneumonia.py
â”œâ”€â”€ train_breast.py
â”œâ”€â”€ train_brain.py
â”œâ”€â”€ train_malaria.py
â”œâ”€â”€ train_all.py
â””â”€â”€ convert_all.py
```

---

### ç¬¬å››æ­¥ï¼šè®­ç»ƒæ¨¡å‹

æ‰“å¼€ **Anaconda Prompt**ï¼Œæ‰§è¡Œï¼š

```bash
# æ¿€æ´»ç¯å¢ƒ
conda activate medical

# è¿›å…¥æ¨¡å‹ç›®å½•
cd C:\MedicalAI\models

# æ–¹æ³•Aï¼šä¸€é”®è®­ç»ƒæ‰€æœ‰æ¨¡å‹ï¼ˆæ¨èï¼‰
python train_all.py

# æ–¹æ³•Bï¼šå•ç‹¬è®­ç»ƒæŸä¸ªæ¨¡å‹
python train_pneumonia.py    # åªè®­ç»ƒè‚ºç‚
python train_breast.py       # åªè®­ç»ƒä¹³è…ºç™Œ
python train_brain.py        # åªè®­ç»ƒè„‘è‚¿ç˜¤
python train_malaria.py      # åªè®­ç»ƒç–Ÿç–¾
```

**è®­ç»ƒæ—¶é—´é¢„ä¼°**ï¼š
| æ¨¡å‹ | æ—¶é—´ |
|-----|------|
| è‚ºç‚ | 20-40åˆ†é’Ÿ |
| ä¹³è…ºç™Œ | 10-20åˆ†é’Ÿ |
| è„‘è‚¿ç˜¤ | 5-15åˆ†é’Ÿ |
| ç–Ÿç–¾ | 30-60åˆ†é’Ÿ |

---

### ç¬¬äº”æ­¥ï¼šè½¬æ¢æ¨¡å‹ä¸ºTFLite

è®­ç»ƒå®Œæˆåï¼Œè¿è¡Œè½¬æ¢è„šæœ¬ï¼š

```bash
python convert_all.py
```

è½¬æ¢åä¼šåœ¨ `models\` ç›®å½•ç”Ÿæˆ `.tflite` æ–‡ä»¶ã€‚

---

### ç¬¬å…­æ­¥ï¼šAndroidéƒ¨ç½²

#### 6.1 å¤åˆ¶æ¨¡å‹åˆ°Androidé¡¹ç›®

æŠŠè¿™äº›æ–‡ä»¶å¤åˆ¶åˆ° Android é¡¹ç›®çš„ `app/src/main/assets/` ç›®å½•ï¼š

```
pneumonia_model.tflite
breast_model.tflite
brain_model.tflite
malaria_model.tflite
```

#### 6.2 æ›¿æ¢Androidä»£ç 

- ç”¨ `MainActivity.java` æ›¿æ¢ä½ é¡¹ç›®çš„ä¸»Activity
- ç”¨ `activity_main.xml` æ›¿æ¢å¸ƒå±€æ–‡ä»¶

#### 6.3 æ·»åŠ ä¾èµ–

åœ¨ `app/build.gradle` ä¸­æ·»åŠ ï¼š

```gradle
dependencies {
    implementation 'org.tensorflow:tensorflow-lite:2.14.0'
}

android {
    aaptOptions {
        noCompress "tflite"
    }
}
```

#### 6.4 è¿è¡ŒAPP

Build â†’ Clean Project â†’ Rebuild â†’ Run

---

## ğŸ“‹ å¿«é€Ÿå‘½ä»¤æ±‡æ€»

```bash
# 1. æ¿€æ´»ç¯å¢ƒ
conda activate medical

# 2. è¿›å…¥ç›®å½•
cd C:\MedicalAI\models

# 3. ä¸€é”®è®­ç»ƒ
python train_all.py

# 4. è½¬æ¢æ¨¡å‹
python convert_all.py
```

---

## â“ å¸¸è§é—®é¢˜

### Q1: æç¤ºæ‰¾ä¸åˆ°æ•°æ®é›†ï¼Ÿ
æ£€æŸ¥æ•°æ®é›†è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œæ–‡ä»¶å¤¹åç§°æ˜¯å¦ä¸€è‡´ã€‚

### Q2: è®­ç»ƒå¾ˆæ…¢ï¼Ÿ
- ç¡®ä¿å®‰è£…äº†GPUç‰ˆTensorFlow
- å‡å°BATCH_SIZEå‚æ•°

### Q3: å†…å­˜ä¸è¶³ï¼Ÿ
- ç–Ÿç–¾æ•°æ®é›†å¾ˆå¤§ï¼Œå»ºè®®16GBå†…å­˜
- æˆ–è€…å‡å°BATCH_SIZE

### Q4: Androidæ¨¡å‹åŠ è½½å¤±è´¥ï¼Ÿ
- æ£€æŸ¥ `.tflite` æ–‡ä»¶æ˜¯å¦åœ¨ `assets` ç›®å½•
- æ£€æŸ¥æ–‡ä»¶åæ˜¯å¦æ­£ç¡®

---

## ğŸ“Š é¢„æœŸç»“æœ

è®­ç»ƒå®Œæˆåï¼Œä½ åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š

```
============================================================
ğŸ« PNEUMONIA è®­ç»ƒå®Œæˆï¼æœ€ç»ˆæµ‹è¯•ç»“æœ:
============================================================
  æŸå¤±å€¼:   0.1523
  å‡†ç¡®ç‡:   93.27%
  ç²¾ç¡®ç‡:   94.15%
  å¬å›ç‡:   92.88%
  AUC:      0.9721
============================================================
âœ… æ¨¡å‹å·²ä¿å­˜: pneumonia_model.h5
âœ… æ ‡ç­¾å·²ä¿å­˜: pneumonia_labels.txt
```

---

**æœ‰é—®é¢˜éšæ—¶é—®æˆ‘ï¼ç¥è®­ç»ƒé¡ºåˆ©ï¼** ğŸš€
